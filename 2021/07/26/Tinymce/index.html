<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/favicon.png"/>
	<link rel="shortcut icon" href="/img/favicon.png">
	<meta name="baidu-site-verification" content="code-KLcpk3wnwR" />
	
			<title>趙天一ლ(ﾟдﾟლ)You know、You don’t know</title>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, user-scalable=no"
/>
<link rel="stylesheet" href="/css/mic_main.css" />
<link rel="stylesheet" href="/css/dropdownMenu.css" />
<!-- <script src="/js/live2d/autoload.js"></script> -->

<meta name="keywords" content="Zssaer JavaWeb TIANYI ZHAO" />

<noscript>
  <link rel="stylesheet" href="/css/noscript.css" />
</noscript>
<style type="text/css">
  /* body{
    background: url('https://zssaer.oss-cn-chengdu.aliyuncs.com/wallhaven-r7r551.jpg?x-oss-process=style/wallpaper') center 0 no-repeat;
    content: " ";
    position: fixed;
  } */
  body:before {
    content: " ";
    position: fixed;
    top: 0;
    background: url('https://zssaer.oss-cn-chengdu.aliyuncs.com/wallhaven-r7r551.jpg?x-oss-process=style/wallpaper') center 0 no-repeat;

    right: 0;
    bottom: 0;
    left: 0;
    background-size: cover;
  }
</style>

			    

    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/jquery.min.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/jquery.scrollex.min.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/jquery.scrolly.min.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/skel.min.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/util.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/main.js"></script>
	
<meta name="generator" content="Hexo 5.4.0"></head>
    
		<!-- Layouts -->


<!--  代码渲染  -->
<script src="/js/prism.js"></script>
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body
  class=""
  data-prismjs-copy="复制"
  data-prismjs-copy-error="请按Ctrl+C手动复制"
  data-prismjs-copy-success="复制成功!"
>
  <div class="mask-border"></div>
  <!-- Wrapper 外包 s-->
  <div id="wrapper" class="fade-in">
    <!-- Intro 头部显示 s -->
    <!-- Intro 头部显示 e -->
    <!-- Header 头部logo start -->
    <header id="header">
    <a href="/" class="logo">Refrain</a>
</header>
    <!-- Nav 导航条 start -->
    <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">Home</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">Categories</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/JAVA/">JAVA</a></li><li><a class="category-link" href="/categories/Python/">Python</a></li><li><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a></li><li><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li><a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></li><li><a class="category-link" href="/categories/%E6%9D%82%E8%B0%88/">杂谈</a></li><li><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="AboutMe">
		                AboutMe
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="Wallpaper">
		                Wallpaper
		            </a>
		        </li>
		        
		        <li>
		            <a href="/bangumis/" title="Bangumis">
		                Bangumis
		            </a>
		        </li>
		        
						<li class="active">
							<a href="#s1">Other</a>
											<ul class="submenu">
													<li>
													<a class="category-link" href="/another/billiard.html">台球模拟V1.0</a>
												</li>
											</ul>
						</li>

            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/Zssaer" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a title="git" href="https://gitee.com/Zssaer01" target="_blank" rel="noopener">
                            <i class="icon fa fa-git"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>
    <aside id="toc_menu"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TinyMCE%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">TinyMCE富文本编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TinyMCE%E6%98%AF%E5%90%A6%E6%94%B6%E8%B4%B9"><span class="toc-number">1.0.1.</span> <span class="toc-text">TinyMCE是否收费</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E4%B8%8B%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8"><span class="toc-number">1.0.2.</span> <span class="toc-text">Vue下快速使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E6%8F%92%E4%BB%B6"><span class="toc-number">1.0.3.</span> <span class="toc-text">更多插件</span></a></li></ol></li></ol></li></ol></aside>
    <div id="main">
      
      <div
        class="post_page_title_img"
        style="
          height: 25rem;
          background-image: url(https://zssaer.oss-cn-chengdu.aliyuncs.com/JrAJTf-aHsc.jpg?x-oss-process=style/wallpaper);
          background-position: center;
          background-repeat: no-repeat;
          background-size: cover;
          -moz-background-size: cover;
          overflow: hidden;
        "
      >
        <a href="#" style="padding: 4rem 4rem 2rem 4rem"
          ><h2 id="page-title">TinyMCE富文本编辑器</h2></a
        >
      </div>
      
      <button id="toc_button" onclick="openTocSidebar()">文章导航</button>
      <!-- <div id="content_toc">
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TinyMCE%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">TinyMCE富文本编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TinyMCE%E6%98%AF%E5%90%A6%E6%94%B6%E8%B4%B9"><span class="toc-number">1.0.1.</span> <span class="toc-text">TinyMCE是否收费</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E4%B8%8B%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8"><span class="toc-number">1.0.2.</span> <span class="toc-text">Vue下快速使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E6%8F%92%E4%BB%B6"><span class="toc-number">1.0.3.</span> <span class="toc-text">更多插件</span></a></li></ol></li></ol></li></ol>
            </div>     -->

      <!-- Post -->
      <div class="typo" style="padding: 3rem"><h1 id="TinyMCE富文本编辑器"><a href="#TinyMCE富文本编辑器" class="headerlink" title="TinyMCE富文本编辑器"></a>TinyMCE富文本编辑器</h1><p>TinyMCE是一款易用、且功能强大的所见即所得的可跨平台富文本编辑器。同类程序有：UEditor、Kindeditor、Simditor、CKEditor、wangEditor、Suneditor、froala等等。</p>
<p>TinyMCE的优势：</p>
<ul>
<li>开源可商用，基于LGPL2.1</li>
<li>插件丰富，自带插件基本涵盖日常所需功能（示例看下面的Demo-2）</li>
<li>接口丰富，可扩展性强，有能力可以无限拓展功能</li>
<li>界面好看，符合现代审美</li>
<li>提供经典、内联、沉浸无干扰三种模式（详见“介绍与入门”）</li>
<li>对标准支持优秀（自v5开始）</li>
<li>多语言支持，官网可下载几十种语言。</li>
<li>官网及文档：<a target="_blank" rel="noopener" href="https://www.tiny.cloud/">www.tiny.cloud</a><br>官网下载：<a target="_blank" rel="noopener" href="https://www.tiny.cloud/get-tiny/self-hosted/">www.tiny.cloud/get-tiny/self-hosted/</a><br>Github：<a target="_blank" rel="noopener" href="https://github.com/tinymce/">github.com/tinymce</a><br><img src="https://zssaer.oss-cn-chengdu.aliyuncs.com/tinyMCE.png"><h3 id="TinyMCE是否收费"><a href="#TinyMCE是否收费" class="headerlink" title="TinyMCE是否收费"></a>TinyMCE是否收费</h3></li>
</ul>
<blockquote>
<p>tinymce主程序及自带的大部分插件均提供社区开源版，可免费使用且可商用。tinymce的主要盈利模式为【付费插件及拓展服务】，有关付费项目的列表，请参考：<a target="_blank" rel="noopener" href="https://www.tiny.cloud/pricing">https://www.tiny.cloud/pricing</a></p>
</blockquote>
<h3 id="Vue下快速使用"><a href="#Vue下快速使用" class="headerlink" title="Vue下快速使用"></a>Vue下快速使用</h3><ol>
<li><p>安装TinyMCE相关依赖包</p>
<p>根据使用的js包管理工具,进行导入依赖</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> tinymce  <span class="token operator">||</span>  <span class="token function">npm</span> <span class="token function">install</span> tinymce -S

<span class="token function">yarn</span> <span class="token function">add</span> @tinymce/tinymce-vue  <span class="token operator">||</span>  <span class="token function">npm</span> <span class="token function">install</span> @tinymce/tinymce-vue -S<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>汉化编辑器</p>
<p>TinyMCE是国外的插件,所以自然默认为英文版本,需要使用中文的话,要去官网下载汉化包:</p>
<p> <a target="_blank" rel="noopener" href="https://www.tiny.cloud/get-tiny/language-packages/">https://www.tiny.cloud/get-tiny/language-packages/</a><br> <img src="https://zssaer.oss-cn-chengdu.aliyuncs.com/tinyMCE-CN.png"></p>
</li>
<li><p>在项目public文件夹下新建tinymce文件夹，将下载后的汉化压缩包解压至此文件夹下<br>再将node_modules/tinymce/skins文件夹也复制到public/tinymce文件夹下(最终如下图所示)<br> <img src="https://zssaer.oss-cn-chengdu.aliyuncs.com/tinyMCE-lib.png"></p>
</li>
<li><p>导入Emoji表情插件 (可跳过)</p>
<p>将node_modules/tinymce/plugins/emoticons文件夹复制到public/tinymce里</p>
<p>最后将其添加到组件的plugins和toolbar下(第6步组件以及加入无需重复加入).</p>
</li>
<li><p>添加首行缩进功能 (可跳过)</p>
<p> 前往插件文档里下载intent2em插件:<a target="_blank" rel="noopener" href="http://tinymce.ax-z.cn/more-plugins/indent2em.php">http://tinymce.ax-z.cn/more-plugins/indent2em.php</a></p>
<p> 将解压后的首行缩进插件intent2em复制到node_modules/tinymce/plugins文件夹下.</p>
<p> 在其intent2em文件夹中创建index.js并写入以下代码</p>
</li>
</ol>
   <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Exports the "indent2em" plugin for usage with module loaders</span>
<span class="token comment">// Usage:</span>
<span class="token comment">//   CommonJS:</span>
<span class="token comment">//     require('tinymce/plugins/indent2em')</span>
<span class="token comment">//   ES2015:</span>
<span class="token comment">//     import 'tinymce/plugins/indent2em'</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./plugin.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>   最后复写plugins.js</p>
   <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    
        <span class="token keyword">var</span> global <span class="token operator">=</span> tinymce<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Tools<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'tinymce.PluginManager'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> global$<span class="token number">1</span> <span class="token operator">=</span> tinymce<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Tools<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'tinymce.util.Tools'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
  
        <span class="token keyword">var</span> <span class="token function-variable function">doAct</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">editor</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">var</span> dom <span class="token operator">=</span> editor<span class="token punctuation">.</span>dom<span class="token punctuation">;</span>
          <span class="token keyword">var</span> blocks <span class="token operator">=</span> editor<span class="token punctuation">.</span>selection<span class="token punctuation">.</span><span class="token function">getSelectedBlocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> act <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> indent2em_val <span class="token operator">=</span> editor<span class="token punctuation">.</span><span class="token function">getParam</span><span class="token punctuation">(</span><span class="token string">'indent2em_val'</span><span class="token punctuation">,</span> <span class="token string">'2em'</span><span class="token punctuation">)</span>
          global$<span class="token number">1.</span><span class="token function">each</span><span class="token punctuation">(</span>blocks<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">block</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>act<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                  act <span class="token operator">=</span> dom<span class="token punctuation">.</span><span class="token function">getStyle</span><span class="token punctuation">(</span>block<span class="token punctuation">,</span><span class="token string">'text-indent'</span><span class="token punctuation">)</span><span class="token operator">==</span> indent2em_val <span class="token operator">?</span> <span class="token string">'remove'</span> <span class="token operator">:</span> <span class="token string">'add'</span><span class="token punctuation">;</span>
              <span class="token punctuation">&#125;</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span> act<span class="token operator">==</span><span class="token string">'add'</span> <span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                  dom<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>block<span class="token punctuation">,</span> <span class="token string">'text-indent'</span><span class="token punctuation">,</span> indent2em_val<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
                  <span class="token keyword">var</span> style<span class="token operator">=</span>dom<span class="token punctuation">.</span><span class="token function">getAttrib</span><span class="token punctuation">(</span>block<span class="token punctuation">,</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  style <span class="token operator">=</span> style<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">text-indent:[\s]*2em;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  dom<span class="token punctuation">.</span><span class="token function">setAttrib</span><span class="token punctuation">(</span>block<span class="token punctuation">,</span><span class="token string">'style'</span><span class="token punctuation">,</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">&#125;</span>
  
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  
        <span class="token keyword">var</span> <span class="token function-variable function">register</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">editor</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>registry<span class="token punctuation">.</span><span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>icons<span class="token punctuation">.</span>indent2em <span class="token operator">||</span> editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>registry<span class="token punctuation">.</span><span class="token function">addIcon</span><span class="token punctuation">(</span><span class="token string">'indent2em'</span><span class="token punctuation">,</span><span class="token string">'&lt;svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24">&lt;path d="M170.666667 563.2v-102.4H887.466667v102.4zM170.666667 836.266667v-102.4H887.466667v102.4zM512 290.133333v-102.4H887.466667v102.4zM238.933333 341.333333V136.533333l204.8 102.4z" fill="#2c2c2c" p-id="5210">&lt;/path>&lt;/svg>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>registry<span class="token punctuation">.</span><span class="token function">addButton</span><span class="token punctuation">(</span><span class="token string">'indent2em'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
            tooltip<span class="token operator">:</span> <span class="token string">'首行缩进'</span><span class="token punctuation">,</span>
            icon<span class="token operator">:</span> <span class="token string">'indent2em'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">onAction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
              <span class="token function">doAct</span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>registry<span class="token punctuation">.</span><span class="token function">addMenuItem</span><span class="token punctuation">(</span><span class="token string">'indent2em'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
            text<span class="token operator">:</span> <span class="token string">'首行缩进'</span><span class="token punctuation">,</span>
            icon<span class="token operator">:</span> <span class="token string">'indent2em'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">onAction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
              <span class="token function">doAct</span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  
        global<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'indent2em'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">editor</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token function">register</span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        <span class="token keyword">function</span> <span class="token function">Plugin</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token punctuation">&#125;</span>
    
        <span class="token keyword">return</span> Plugin<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>   最后将其添加到组件的plugins和toolbar下(第6步组件以及加入无需重复加入).</p>
<ol start="6">
<li><p>配置TinyMCE组件</p>
<p>在src/components下新建TEditor.vue，并写入如下代码:</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;tinymce-box&quot;&gt;
    &lt;Editor
      v-model&#x3D;&quot;contentValue&quot;
      :init&#x3D;&quot;init&quot;
      :disabled&#x3D;&quot;disabled&quot;
      @onClick&#x3D;&quot;onClick&quot;
      toolbar_mode&#x3D;&#39;floating&#39;
    &#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123;baseUrl&#125; from &quot;..&#x2F;api&#x2F;api.js&quot;;
import axios from &#39;axios&#39;

&#x2F;&#x2F;引入tinymce编辑器
import Editor from &quot;@tinymce&#x2F;tinymce-vue&quot;;

&#x2F;&#x2F;引入node_modules里的tinymce相关文件文件
import tinymce from &quot;tinymce&#x2F;tinymce&quot;; &#x2F;&#x2F;tinymce默认hidden，不引入则不显示编辑器
import &quot;tinymce&#x2F;themes&#x2F;silver&quot;; &#x2F;&#x2F;编辑器主题，不引入则报错
import &quot;tinymce&#x2F;icons&#x2F;default&quot;; &#x2F;&#x2F;引入编辑器图标icon，不引入则不显示对应图标

&#x2F;&#x2F; 引入编辑器插件（基本免费插件都在这儿了）
import &quot;tinymce&#x2F;plugins&#x2F;advlist&quot;; &#x2F;&#x2F;高级列表
import &quot;tinymce&#x2F;plugins&#x2F;anchor&quot;; &#x2F;&#x2F;锚点
import &quot;tinymce&#x2F;plugins&#x2F;autolink&quot;; &#x2F;&#x2F;自动链接
import &quot;tinymce&#x2F;plugins&#x2F;autoresize&quot;; &#x2F;&#x2F;编辑器高度自适应,注：plugins里引入此插件时，Init里设置的height将失效
import &quot;tinymce&#x2F;plugins&#x2F;autosave&quot;; &#x2F;&#x2F;自动存稿
import &quot;tinymce&#x2F;plugins&#x2F;charmap&quot;; &#x2F;&#x2F;特殊字符
import &quot;tinymce&#x2F;plugins&#x2F;code&quot;; &#x2F;&#x2F;编辑源码
import &quot;tinymce&#x2F;plugins&#x2F;codesample&quot;; &#x2F;&#x2F;代码示例
import &quot;tinymce&#x2F;plugins&#x2F;directionality&quot;; &#x2F;&#x2F;文字方向
import &quot;tinymce&#x2F;plugins&#x2F;emoticons&quot;; &#x2F;&#x2F;表情
import &quot;tinymce&#x2F;plugins&#x2F;fullpage&quot;; &#x2F;&#x2F;文档属性
import &quot;tinymce&#x2F;plugins&#x2F;fullscreen&quot;; &#x2F;&#x2F;全屏
import &quot;tinymce&#x2F;plugins&#x2F;help&quot;; &#x2F;&#x2F;帮助
import &quot;tinymce&#x2F;plugins&#x2F;hr&quot;; &#x2F;&#x2F;水平分割线
import &quot;tinymce&#x2F;plugins&#x2F;image&quot;; &#x2F;&#x2F;插入编辑图片
import &quot;tinymce&#x2F;plugins&#x2F;importcss&quot;; &#x2F;&#x2F;引入css
import &quot;tinymce&#x2F;plugins&#x2F;insertdatetime&quot;; &#x2F;&#x2F;插入日期时间
import &quot;tinymce&#x2F;plugins&#x2F;link&quot;; &#x2F;&#x2F;超链接
import &quot;tinymce&#x2F;plugins&#x2F;lists&quot;; &#x2F;&#x2F;列表插件
import &quot;tinymce&#x2F;plugins&#x2F;media&quot;; &#x2F;&#x2F;插入编辑媒体
import &quot;tinymce&#x2F;plugins&#x2F;nonbreaking&quot;; &#x2F;&#x2F;插入不间断空格
import &quot;tinymce&#x2F;plugins&#x2F;pagebreak&quot;; &#x2F;&#x2F;插入分页符
import &quot;tinymce&#x2F;plugins&#x2F;paste&quot;; &#x2F;&#x2F;粘贴插件
import &quot;tinymce&#x2F;plugins&#x2F;preview&quot;; &#x2F;&#x2F;预览
import &quot;tinymce&#x2F;plugins&#x2F;print&quot;; &#x2F;&#x2F;打印
import &quot;tinymce&#x2F;plugins&#x2F;quickbars&quot;; &#x2F;&#x2F;快速工具栏
import &quot;tinymce&#x2F;plugins&#x2F;save&quot;; &#x2F;&#x2F;保存
import &quot;tinymce&#x2F;plugins&#x2F;searchreplace&quot;; &#x2F;&#x2F;查找替换
&#x2F;&#x2F; import &#39;tinymce&#x2F;plugins&#x2F;spellchecker&#39;  &#x2F;&#x2F;拼写检查，暂未加入汉化，不建议使用
import &quot;tinymce&#x2F;plugins&#x2F;tabfocus&quot;; &#x2F;&#x2F;切入切出，按tab键切出编辑器，切入页面其他输入框中
import &quot;tinymce&#x2F;plugins&#x2F;table&quot;; &#x2F;&#x2F;表格
import &quot;tinymce&#x2F;plugins&#x2F;template&quot;; &#x2F;&#x2F;内容模板
import &quot;tinymce&#x2F;plugins&#x2F;textcolor&quot;; &#x2F;&#x2F;文字颜色
import &quot;tinymce&#x2F;plugins&#x2F;textpattern&quot;; &#x2F;&#x2F;快速排版
import &quot;tinymce&#x2F;plugins&#x2F;toc&quot;; &#x2F;&#x2F;目录生成器
import &quot;tinymce&#x2F;plugins&#x2F;visualblocks&quot;; &#x2F;&#x2F;显示元素范围
import &quot;tinymce&#x2F;plugins&#x2F;visualchars&quot;; &#x2F;&#x2F;显示不可见字符
import &quot;tinymce&#x2F;plugins&#x2F;wordcount&quot;; &#x2F;&#x2F;字数统计
import &quot;tinymce&#x2F;plugins&#x2F;&#x2F;indent2em&quot;  &#x2F;&#x2F;首行缩进(创建)

export default &#123;
  name: &quot;TEditor&quot;,
  components: &#123;
    Editor,
  &#125;,
  props: &#123;
    modelValue: &#123;
      type: String,
      default: &quot;&quot;,
    &#125;,
    disabled: &#123;
      type: Boolean,
      default: false,
    &#125;,
    plugins: &#123;
      type: [String, Array],
      default:
        &quot;print preview searchreplace autolink directionality emoticons indent2em visualblocks visualchars fullscreen image link media template code codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount textpattern autosave &quot;,
    &#125;,
    toolbar: &#123;
      type: [String, Array],
      default:
        &quot;fullscreen undo redo restoredraft | cut copy paste pastetext | forecolor backcolor bold indent2em italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent | \
                styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | \
                table image media charmap emoticons hr pagebreak insertdatetime print preview | code selectall searchreplace visualblocks | indent2em lineheight formatpainter axupimgs&quot;,
    &#125;,
  &#125;,
  data() &#123;
    return &#123;
      init: &#123;
        language_url: &quot;&#x2F;tinymce&#x2F;langs&#x2F;zh_CN.js&quot;, &#x2F;&#x2F;引入语言包文件
        language: &quot;zh_CN&quot;, &#x2F;&#x2F;语言类型

        skin_url: &quot;&#x2F;tinymce&#x2F;skins&#x2F;ui&#x2F;oxide&quot;, &#x2F;&#x2F;皮肤：浅色
        &#x2F;&#x2F; skin_url: &#39;&#x2F;tinymce&#x2F;skins&#x2F;ui&#x2F;oxide-dark&#39;,&#x2F;&#x2F;皮肤：暗色

        emoticons_database_url:&#39;&#x2F;tinymce&#x2F;emoticons&#x2F;js&#x2F;emojis.js&#39;, &#x2F;&#x2F;表情路径引入
        toolbar_mode: &#39;sliding&#39;, &#x2F;&#x2F; 设置工具栏更多工具 显示模式&#123;false:全部展示,floating:悬浮显示,sliding:滑动显示&#125;
        plugins: this.plugins, &#x2F;&#x2F;插件配置
        toolbar: this.toolbar, &#x2F;&#x2F;工具栏配置，设为false则隐藏
        
        &#x2F;&#x2F;menubar: &#39;file edit&#39;,  &#x2F;&#x2F;菜单栏配置，设为false则隐藏，不配置则默认显示全部菜单，也可自定义配置--查看 http:&#x2F;&#x2F;tinymce.ax-z.cn&#x2F;configure&#x2F;editor-appearance.php --搜索“自定义菜单”

        fontsize_formats:
          &quot;12px 14px 16px 18px 20px 22px 24px 28px 32px 36px 48px 56px 72px&quot;, &#x2F;&#x2F;字体大小
        font_formats:
          &quot;微软雅黑&#x3D;Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方&#x3D;PingFang SC,Microsoft YaHei,sans-serif;宋体&#x3D;simsun,serif;仿宋体&#x3D;FangSong,serif;黑体&#x3D;SimHei,sans-serif;Arial&#x3D;arial,helvetica,sans-serif;Arial Black&#x3D;arial black,avant garde;Book Antiqua&#x3D;book antiqua,palatino;&quot;, &#x2F;&#x2F;字体样式
        lineheight_formats: &quot;0.5 0.8 1 1.2 1.5 1.75 2 2.5 3 4 5&quot;, &#x2F;&#x2F;行高配置，也可配置成&quot;12px 14px 16px 20px&quot;这种形式

        height: 400, &#x2F;&#x2F;注：引入autoresize插件时，此属性失效
        placeholder: &quot;在这里输入文字&quot;,
        branding: false, &#x2F;&#x2F;tiny技术支持信息是否显示
        resize: false, &#x2F;&#x2F;编辑器宽高是否可变，false-否,true-高可变，&#39;both&#39;-宽高均可，注意引号
        statusbar: false,  &#x2F;&#x2F;最下方的元素路径和字数统计那一栏是否显示
        elementpath: false, &#x2F;&#x2F;元素路径是否显示

        content_style: &quot;img &#123;max-width:100%;&#125;&quot;, &#x2F;&#x2F;直接自定义可编辑区域的css样式
        &#x2F;&#x2F; content_css: &#39;&#x2F;tinycontent.css&#39;,  &#x2F;&#x2F;以css文件方式自定义可编辑区域的css样式，css文件需自己创建并引入

        &#x2F;&#x2F; images_upload_url: &#39;&#x2F;apib&#x2F;api-upload&#x2F;uploadimg&#39;,  &#x2F;&#x2F;后端处理程序的url，建议直接自定义上传函数image_upload_handler，这个就可以不用了
        &#x2F;&#x2F; images_upload_base_path: &#39;&#x2F;demo&#39;,  &#x2F;&#x2F;相对基本路径--关于图片上传建议查看--http:&#x2F;&#x2F;tinymce.ax-z.cn&#x2F;general&#x2F;upload-images.php
        paste_data_images: true, &#x2F;&#x2F;图片是否可粘贴
        images_upload_handler: (blobInfo, success, failure) &#x3D;&gt; &#123;
          if (blobInfo.blob().size &#x2F; 1024 &#x2F; 1024 &gt; 5) &#123;
            failure(&quot;上传失败，图片大小请控制在 5M 以内&quot;);
          &#125; else &#123;
            let params &#x3D; new FormData();
            params.append(&quot;file&quot;, blobInfo.blob());
            let config &#x3D; &#123;
              headers: &#123;
                &quot;Content-Type&quot;: &quot;multipart&#x2F;form-data&quot;,
              &#125;,
            &#125;;
            axios
              .post(baseUrl+&#96;&#x2F;uploadEditorPic&#96;, params, config)
              .then((res) &#x3D;&gt; &#123;
                console.log(res);
                if (res.data.code &#x3D;&#x3D; 200) &#123;
                  success(res.data.data.accessUrl); &#x2F;&#x2F;上传成功，在成功函数里填入图片路径
                &#125; else &#123;
                  failure(&quot;上传失败&quot;);
                &#125;
              &#125;)
              .catch(() &#x3D;&gt; &#123;
                failure(&quot;上传出错，服务器开小差了呢&quot;);
              &#125;);
          &#125;
        &#125;,
      &#125;,
      contentValue: this.modelValue,
    &#125;;
  &#125;,
  watch: &#123;
    modelValue(newValue) &#123;
      this.contentValue &#x3D; newValue;
    &#125;,
    contentValue(newValue) &#123;
      this.$emit(&quot;update:modelValue&quot;, newValue);
    &#125;,
  &#125;,
  created() &#123;&#125;,
  mounted() &#123;
    tinymce.init(&#123;&#125;);
  &#125;,
  methods: &#123;
    &#x2F;&#x2F; 添加相关的事件，可用的事件参照文档&#x3D;&gt; https:&#x2F;&#x2F;github.com&#x2F;tinymce&#x2F;tinymce-vue &#x3D;&gt; All available events
    onClick(e) &#123;
      this.$emit(&quot;onClick&quot;, e, tinymce);
    &#125;,
    &#x2F;&#x2F;清空内容
    clear() &#123;
      this.contentValue &#x3D; &quot;&quot;;
    &#125;,
  &#125;,
&#125;;
&lt;&#x2F;script&gt;

&lt;style lang&#x3D;&quot;less&quot;&gt;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上为vue3的v-model默认绑定值, 如vue2.x使用,需要修改其v-model的默认绑定值.(modelValue =&gt; value &amp;&amp; update:modelValue =&gt; input)</p>
<p>其中引入baseUrl为后端Api地址,主要用作图片上传.</p>
</li>
<li><p>调用组件</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;TEditor ref&#x3D;&quot;editor&quot; v-model&#x3D;&quot;subform.value&quot; &#x2F;&gt;

import TEditor from &#39;@&#x2F;components&#x2F;TEditor.vue&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
</ol>
<h3 id="更多插件"><a href="#更多插件" class="headerlink" title="更多插件"></a>更多插件</h3><p><a target="_blank" rel="noopener" href="https://github.com/Five-great/tinymce-plugins">https://github.com/Five-great/tinymce-plugins</a></p>
<p>该项目有多个TinyMCE插件.by <a target="_blank" rel="noopener" href="https://github.com/Five-great/tinymce-plugins/commits?author=Five-great">Five-great</a> </p>
<ul>
<li> imagetools [增强优化]： 图片编辑工具插件， 对图片进行处理。优化跨域，功能更丰富；</li>
<li> table [增强优化]：表格插件，处理表格。 增强优化表格控制，增加表格转图片功能，便捷布局按钮；</li>
<li> indent2em[增强优化]：首行缩进插件。提供中文段落排版的首行缩进2个字符的功能。增强优化 加入字间距非默认情况，也能实现准确首行缩进2字符；</li>
<li> letterspacing：设置间距插件。可以设置文档中的文字间距；</li>
<li> layout： 一键布局插件。可以给文档段落进行一键快速排版布局；</li>
<li> importword： 导入word插件。可以直接导入word ,并且保证word中图片不会丢失，自动转为base64;</li>
<li> upfile： 文件上传。可以点击导入文件，可自定义编辑文件名;</li>
<li> bdmap： 百度地图。 支持更改尺寸，自定义标签，开启导航功能,支持vue;</li>
<li> axupimgs: 多图上传。可同时上传多组图片，支持vue;</li>
<li> attachment: 附件上传。拥有附件类型对应图标，支持vue;</li>
</ul>
<p>使用方法:</p>
<p>按需求将其插件文件夹复制到node_modules/tinymce/plugins文件夹下,再到组件中引用,如</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token string">'@npkg/tinymce-plugins/importword'</span> 
<span class="token keyword">import</span> <span class="token string">'@npkg/tinymce-plugins/lineheight'</span> 
<span class="token keyword">import</span> <span class="token string">'@npkg/tinymce-plugins/layout'</span> 
<span class="token operator">...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

</div>

      <!-- Post Comments -->
      
    <!-- 使用 changyan -->
<div id="changyan-comment">
    <!--PC和WAP自适应版-->
<div id="SOHUCS" sid="2021/07/26/Tinymce/"  ></div>
<script type="text/javascript">
(function(){
var appid = 'cyvzq2tmJ';
var conf = 'e61bcf9ca7baef66559e7e33e21fe290';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>

</div>
<style>
    #changyan-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

    </div>
    <!-- Copyright 版权 start -->
    <div id="copyright">
  <ul>
    <li>
      &copy;Powered By
      <a target="_blank" rel="noopener" href="https://hexo.io/" style="border-bottom: none">hexo</a>
    </li>
    <li>Author: <a style="border-bottom: none">@Zssaer</a></li>
  </ul>
  <ul>
    <li>
      <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/" id="beian">蜀ICP备2021031070号</a>
    </li>
  </ul>
  
  <span id="busuanzi_container_site_pv"> 2024 </span>
  
</div>

  </div>
  <script>
    const originalTitle = document.title;
    document.title = `TinyMCE富文本编辑器` + `|` + originalTitle;
  </script>
</body>



 	
</html>
