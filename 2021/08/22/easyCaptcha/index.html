<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/favicon.png"/>
	<link rel="shortcut icon" href="/img/favicon.png">
	<meta name="baidu-site-verification" content="code-KLcpk3wnwR" />
	
			<title>趙天一ლ(ﾟдﾟლ)You know、You don’t know</title>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, user-scalable=no"
/>
<link rel="stylesheet" href="/css/mic_main.css" />
<link rel="stylesheet" href="/css/dropdownMenu.css" />
<!-- <script src="/js/live2d/autoload.js"></script> -->

<meta name="keywords" content="Zssaer JavaWeb TIANYI ZHAO" />

<noscript>
  <link rel="stylesheet" href="/css/noscript.css" />
</noscript>
<style type="text/css">
  /* body{
    background: url('https://zssaer.oss-cn-chengdu.aliyuncs.com/wallhaven-r7r551.jpg?x-oss-process=style/wallpaper') center 0 no-repeat;
    content: " ";
    position: fixed;
  } */
  body:before {
    content: " ";
    position: fixed;
    top: 0;
    background: url('https://zssaer.oss-cn-chengdu.aliyuncs.com/wallhaven-r7r551.jpg?x-oss-process=style/wallpaper') center 0 no-repeat;

    right: 0;
    bottom: 0;
    left: 0;
    background-size: cover;
  }
</style>

			    

    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/jquery.min.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/jquery.scrollex.min.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/jquery.scrolly.min.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/skel.min.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/util.js"></script>
    <script src="https://zssaer.oss-cn-chengdu.aliyuncs.com/main.js"></script>
	
<meta name="generator" content="Hexo 5.4.0"></head>
    
		<!-- Layouts -->


<!--  代码渲染  -->
<script src="/js/prism.js"></script>
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body
  class=""
  data-prismjs-copy="复制"
  data-prismjs-copy-error="请按Ctrl+C手动复制"
  data-prismjs-copy-success="复制成功!"
>
  <div class="mask-border"></div>
  <!-- Wrapper 外包 s-->
  <div id="wrapper" class="fade-in">
    <!-- Intro 头部显示 s -->
    <!-- Intro 头部显示 e -->
    <!-- Header 头部logo start -->
    <header id="header">
    <a href="/" class="logo">Refrain</a>
</header>
    <!-- Nav 导航条 start -->
    <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">Home</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">Categories</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/JAVA/">JAVA</a></li><li><a class="category-link" href="/categories/Python/">Python</a></li><li><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a></li><li><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li><a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></li><li><a class="category-link" href="/categories/%E6%9D%82%E8%B0%88/">杂谈</a></li><li><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="AboutMe">
		                AboutMe
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="Wallpaper">
		                Wallpaper
		            </a>
		        </li>
		        
		        <li>
		            <a href="/bangumis/" title="Bangumis">
		                Bangumis
		            </a>
		        </li>
		        
						<li class="active">
							<a href="#s1">Other</a>
											<ul class="submenu">
													<li>
													<a class="category-link" href="/another/billiard.html">台球模拟V1.0</a>
												</li>
											</ul>
						</li>

            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/Zssaer" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a title="git" href="https://gitee.com/Zssaer01" target="_blank" rel="noopener">
                            <i class="icon fa fa-git"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>
    <aside id="toc_menu"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">EasyCaptcha-快速生成图像验证码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.</span> <span class="toc-text">快速使用:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Maven%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.1.</span> <span class="toc-text">Maven依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.2.</span> <span class="toc-text">使用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8SpringBoot%E4%B8%AD"><span class="toc-number">1.1.3.</span> <span class="toc-text">在SpringBoot中</span></a></li></ol></li></ol></li></ol></aside>
    <div id="main">
      
      <div
        class="post_page_title_img"
        style="
          height: 25rem;
          background-image: url(https://zssaer.oss-cn-chengdu.aliyuncs.com/hope.png?x-oss-process=style/wallpaper);
          background-position: center;
          background-repeat: no-repeat;
          background-size: cover;
          -moz-background-size: cover;
          overflow: hidden;
        "
      >
        <a href="#" style="padding: 4rem 4rem 2rem 4rem"
          ><h2 id="page-title">EasyCaptcha-快速生成图像验证码</h2></a
        >
      </div>
      
      <button id="toc_button" onclick="openTocSidebar()">文章导航</button>
      <!-- <div id="content_toc">
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">EasyCaptcha-快速生成图像验证码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.</span> <span class="toc-text">快速使用:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Maven%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.1.</span> <span class="toc-text">Maven依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.2.</span> <span class="toc-text">使用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8SpringBoot%E4%B8%AD"><span class="toc-number">1.1.3.</span> <span class="toc-text">在SpringBoot中</span></a></li></ol></li></ol></li></ol>
            </div>     -->

      <!-- Post -->
      <div class="typo" style="padding: 3rem"><h1 align = "center">EasyCaptcha-快速生成图像验证码</h1>

<p>EasyCaptcha可以快速生成各种类型的Java图形验证码，支持gif、中文、算术等类型，可用于Java Web、JavaSE等项目。<br>GitHub项目:<a target="_blank" rel="noopener" href="https://github.com/whvcse/EasyCaptcha">https://github.com/whvcse/EasyCaptcha</a></p>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/081203129e2874035986b89a0240c2514cb75cb0b26031dcb435c15ca47d1fbd/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73467245382e706e67"><img src="https://camo.githubusercontent.com/081203129e2874035986b89a0240c2514cb75cb0b26031dcb435c15ca47d1fbd/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73467245382e706e67" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/9f780acff1301c6b89f8a0815b073de992c57d2a4fdd67b44dbf34e0a085911a/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73463044502e706e67"><img src="https://camo.githubusercontent.com/9f780acff1301c6b89f8a0815b073de992c57d2a4fdd67b44dbf34e0a085911a/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73463044502e706e67" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/0caff5f58f2e719eafa4af79dfef209bc4c04c2385f0eced4168733d9cfc3b54/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73467775742e706e67"><img src="https://camo.githubusercontent.com/0caff5f58f2e719eafa4af79dfef209bc4c04c2385f0eced4168733d9cfc3b54/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73467775742e706e67" alt="验证码"></a><br><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/3f8cf4ea825529d6fb66f14c898cbfeba4e67bce84ca6ed64186f34a4951dae7/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73467a564b2e676966"><img src="https://camo.githubusercontent.com/3f8cf4ea825529d6fb66f14c898cbfeba4e67bce84ca6ed64186f34a4951dae7/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73467a564b2e676966" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/a6c0c62c04669eea15af86b6fcb006517e3449346b1ca3f056f759ebf0e2ae2b/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73467662362e676966"><img src="https://camo.githubusercontent.com/a6c0c62c04669eea15af86b6fcb006517e3449346b1ca3f056f759ebf0e2ae2b/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73467662362e676966" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/67772e01f47cc25eb163ee064e50cf7b376b5690f4ddb0a9512b728a79df9a96/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d7346584b312e676966"><img src="https://camo.githubusercontent.com/67772e01f47cc25eb163ee064e50cf7b376b5690f4ddb0a9512b728a79df9a96/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d7346584b312e676966" alt="验证码"></a></p>
<p><strong>算术类型：</strong></p>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/5ad376ced241524ff7059a16f5b7f8ad9887b55f5c1e5e0c4088c5544c97872e/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b4b50672e706e67"><img src="https://camo.githubusercontent.com/5ad376ced241524ff7059a16f5b7f8ad9887b55f5c1e5e0c4088c5544c97872e/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b4b50672e706e67" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/2680b6a2f0e9623e0455a72020319cbeb74b2ef2725f5454821f7563a027e418/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b6e49532e706e67"><img src="https://camo.githubusercontent.com/2680b6a2f0e9623e0455a72020319cbeb74b2ef2725f5454821f7563a027e418/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b6e49532e706e67" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/e9acc0d4254ef2e21856d5a1c5e4f7e79251aed35f0b34918d7673f343619386/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b6d61382e706e67"><img src="https://camo.githubusercontent.com/e9acc0d4254ef2e21856d5a1c5e4f7e79251aed35f0b34918d7673f343619386/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b6d61382e706e67" alt="验证码"></a></p>
<p><strong>中文类型：</strong></p>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/9b28eeac6c16cbb1779a826161b0c7d484430e9d2c264948a0ca9e4db9d59e36/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b63644b2e706e67"><img src="https://camo.githubusercontent.com/9b28eeac6c16cbb1779a826161b0c7d484430e9d2c264948a0ca9e4db9d59e36/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b63644b2e706e67" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/e2c03a1718452d790d248f6461a490074f891561b35deb518f92c3c0e9031b71/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b365a362e706e67"><img src="https://camo.githubusercontent.com/e2c03a1718452d790d248f6461a490074f891561b35deb518f92c3c0e9031b71/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b365a362e706e67" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/48e7b6c10662eeafbd519e0b675ed3ff55e9175c7622c225fde31a8fcdf599d0/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b7371782e706e67"><img src="https://camo.githubusercontent.com/48e7b6c10662eeafbd519e0b675ed3ff55e9175c7622c225fde31a8fcdf599d0/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d736b7371782e706e67" alt="验证码"></a></p>
<p><strong>内置字体：</strong></p>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/8629dd27492ee45fd77d64eadccba9257a147b8bd48dd58a7ffd44b83621ab37/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d734156534a2e706e67"><img src="https://camo.githubusercontent.com/8629dd27492ee45fd77d64eadccba9257a147b8bd48dd58a7ffd44b83621ab37/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d734156534a2e706e67" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/9512176164c7f0317e09e4b2bfeba26f69bf9d31bde6d21d634c7afc6ada5485/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73414157342e706e67"><img src="https://camo.githubusercontent.com/9512176164c7f0317e09e4b2bfeba26f69bf9d31bde6d21d634c7afc6ada5485/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73414157342e706e67" alt="验证码"></a>   <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/d30c48f5493c3078ddfc8e0b392759f7ebf0010f597b495a58a2630839cad39b/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73416b59462e706e67"><img src="https://camo.githubusercontent.com/d30c48f5493c3078ddfc8e0b392759f7ebf0010f597b495a58a2630839cad39b/68747470733a2f2f73322e617831782e636f6d2f323031392f30382f32332f6d73416b59462e706e67" alt="验证码"></a></p>
<h2 id="快速使用"><a href="#快速使用" class="headerlink" title="快速使用:"></a>快速使用:</h2><h3 id="Maven依赖"><a href="#Maven依赖" class="headerlink" title="Maven依赖"></a>Maven依赖</h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- 验证码easy-captcha --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.github.whvcse<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>easy-captcha<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.6.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// png类型</span>
<span class="token class-name">SpecCaptcha</span> captcha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpecCaptcha</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// gif类型</span>
<span class="token class-name">GifCaptcha</span> captcha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GifCaptcha</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 算数类型验证码</span>
<span class="token class-name">ArithmeticCaptcha</span> captcha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArithmeticCaptcha</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 中文类型</span>
<span class="token class-name">ChineseCaptcha</span> captcha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChineseCaptcha</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 几位数运算，默认为两位</span>
captcha<span class="token punctuation">.</span><span class="token function">setLen</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取运算的公式：3+2=?</span>
captcha<span class="token punctuation">.</span><span class="token function">getArithmetixcString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取运算的结果：5</span>
<span class="token class-name">String</span> value <span class="token operator">=</span> captcha<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token class-name">UuidUtil</span><span class="token punctuation">.</span><span class="token function">createUuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 存入redis并设置过期时间为5分钟</span>
<span class="token class-name">RedisUtil</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> captchaMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
captchaMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"captchaKey"</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
captchaMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"image"</span><span class="token punctuation">,</span> captcha<span class="token punctuation">.</span><span class="token function">toBase64</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 将key和验证码base64返回给前端</span>
<span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>captchaMap<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>AJAX 刷新验证码</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">refreshcode</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  obj<span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token string">"/captcha?id="</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/captcha<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>105px<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>45px<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">refreshcode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="在SpringBoot中"><a href="#在SpringBoot中" class="headerlink" title="在SpringBoot中"></a>在SpringBoot中</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * @description: TODO
 * @author: Zhaotianyi
 * @time: 2021/5/10 15:55
 */</span>
<span class="token annotation punctuation">@Api</span><span class="token punctuation">(</span>tags <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"图片验证码管理"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CaptchaController</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">ImgValidService</span> imgValidService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/captcha"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">captcha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpecCaptcha</span> specCaptcha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpecCaptcha</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> verCode <span class="token operator">=</span> specCaptcha<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">MD5verCode</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Md5Hash</span><span class="token punctuation">(</span>verCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        imgValidService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">MD5verCode</span><span class="token punctuation">,</span>verCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">ResultBuilder</span><span class="token punctuation">.</span><span class="token function">successResult</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CaptchaResp</span><span class="token punctuation">(</span>specCaptcha<span class="token punctuation">.</span><span class="token function">toBase64</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">MD5verCode</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其中ImgValidService 为验证码保存业务类, 将其生成的验证码的Md5码和真实验证码内容保存 至持久化工具(如Nosql,Redis,MongoDb等),以便后面进行验证码认证操作.</p>
</div>

      <!-- Post Comments -->
      
    <!-- 使用 changyan -->
<div id="changyan-comment">
    <!--PC和WAP自适应版-->
<div id="SOHUCS" sid="2021/08/22/easyCaptcha/"  ></div>
<script type="text/javascript">
(function(){
var appid = 'cyvzq2tmJ';
var conf = 'e61bcf9ca7baef66559e7e33e21fe290';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>

</div>
<style>
    #changyan-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

    </div>
    <!-- Copyright 版权 start -->
    <div id="copyright">
  <ul>
    <li>
      &copy;Powered By
      <a target="_blank" rel="noopener" href="https://hexo.io/" style="border-bottom: none">hexo</a>
    </li>
    <li>Author: <a style="border-bottom: none">@Zssaer</a></li>
  </ul>
  <ul>
    <li>
      <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/" id="beian">蜀ICP备2021031070号</a>
    </li>
  </ul>
  
  <span id="busuanzi_container_site_pv"> 2024 </span>
  
</div>

  </div>
  <script>
    const originalTitle = document.title;
    document.title = `EasyCaptcha-快速生成图像验证码` + `|` + originalTitle;
  </script>
</body>



 	
</html>
